Passo2
------
Migracao para Postgres

#1

sudo apt-get install postgresql postgresql-contrib

sudo -u postgres psql
CREATE DATABASE seucorretor;
CREATE USER seucorretor WITH PASSWORD '';

ALTER ROLE seucorretor SET client_encoding TO 'utf8';
ALTER ROLE seucorretor SET default_transaction_isolation TO 'read committed';
ALTER ROLE seucorretor SET timezone TO 'UTC';

GRANT ALL PRIVILEGES ON DATABASE seucorretor TO seucorretor;

\q

# https://docs.djangoproject.com/en/1.10/ref/databases/#optimizing-postgresql-s-configuration


#2
pip install psycopg2
'ENGINE': 'django.db.backends.postgresql_psycopg2',
'PORT': '5432',

# Migration order
admin auth contenttypes django_extensions easy_thumbnails sessions sites
crm cidades core imobiliaria parceiros

atividades autoatendimento ibuscador relatorios signup
tracking

./manage.py dumpdata --all --natural --indent=2 --exclude=atividades --exclude=autoatendimento --exclude=ibuscador --exclude=parceiros --exclude=pclientes --exclude=pcorretor --exclude=relatorios --exclude=tracking --exclude=vivareal --exclude=zapimoveis --settings=seucorretor.settings.staging > seucorretor_core.json


./manage.py dumpdata atividades --natural --indent=2 --settings=seucorretor.settings.staging > seucorretor_atividades.json

./manage.py dumpdata autoatendimento --natural --indent=2 --settings=seucorretor.settings.staging > seucorretor_autoatendimento.json

./manage.py dumpdata ibuscador --natural --indent=2 --settings=seucorretor.settings.staging > seucorretor_ibuscador.json

./manage.py dumpdata parceiros --natural --indent=2 --settings=seucorretor.settings.staging > seucorretor_parceiros.json

./manage.py dumpdata relatorios --natural --indent=2 --settings=seucorretor.settings.staging > seucorretor_relatorios.json

./manage.py dumpdata tracking --natural --indent=2 --settings=seucorretor.settings.staging > seucorretor_tracking.json
